<div class="container">
  <h2>QUẢN LÝ THÔNG TIN SÁCH</h2>

  <div class="header-actions">
    <button class="btn-create" (click)="createNew()">Create New</button>
  </div>

  <div *ngIf="isLoading" class="loading">Đang tải dữ liệu...</div>

  <div *ngIf="!isLoading && errorMessage" class="error">{{ errorMessage }}</div>

  <table *ngIf="!isLoading && !errorMessage && books.length > 0" class="book-table">
    <thead>
      <tr>
        <th>Tensach</th>
        <th>Giaban</th>
        <th>Mota</th>
        <th>Anhbia</th>
        <th>Ngaycapnhat</th>
        <th>Soluongton</th>
        <th>MaCD</th>
        <th>MaNXB</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let book of books">
        <td class="book-title">{{ book.BookName }}</td>
        <td class="price">{{ book.Price | number: '1.2-2' }}</td>
        <td class="description">{{ book.Description }}</td>
        <td class="image-cell">{{ book.Image }}</td>
        <td class="date-cell">
          {{ formatDate(book.DayUpdated) }}<br />
          {{ formatTime(book.DayUpdated) }}
        </td>
        <td class="quantity">{{ book.StockQuantity }}</td>
        <td class="category-id">{{ book.CategoryId }}</td>
        <td class="publisher-id">{{ book.NXBId }}</td>
        <td class="actions">
          <button class="btn-edit" (click)="editBook(book.BookId)">Edit</button>
          <button class="btn-details" (click)="viewDetails(book.BookId)">Details</button>
          <button class="btn-delete" (click)="deleteBook(book)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="!isLoading && books.length === 0 && !errorMessage" class="no-data">
    Không có dữ liệu sách.
  </div>
</div>
